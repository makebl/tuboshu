import{_ as b,r as x,o as i,c as m,a as o,E as k,e as c,t as A,b as r,d as u,u as K,n as I,f as S,q as j,l as N,m as V,F as $,s as D,j as z,p as B,k as M}from"./index-Ce29jsWc.js";import{_ as U}from"./InputGroup-DeTxeIwN.js";import{u as E,a as F,_ as P}from"./Switch-C6FWoUp1.js";import{_ as R,N as q}from"./headers-j6_00y_d.js";const G={class:"wrap"},H={style:{width:"250px"}},L={key:0},T={class:"switch"},J={__name:"ShortItem",props:{element:Object},setup(s){const d=E(),p=s;let _=p.element.cmd.replace(/CommandOrControl/ig,"Ctrl");const n=x(_),h=e=>{e.preventDefault(),e.stopPropagation();const t=[];if(e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Ctrl"),e.altKey&&t.push("Alt"),e.shiftKey&&t.push("Shift"),t.length>=3||t.length<1)return;let a=e.key===" "?"Space":y(e.key);if(a=a.replace(/^Arrow/,""),n.value=t.join("+")+"+",["Control","Alt","Shift","Meta"].includes(a))return;n.value=[...t,a].join("+");const l=n.value.replace(/Ctrl/ig,"CommandOrControl"),w=Object.assign(S(p.element),{cmd:l,flag:!1});f(w)},g=e=>{e.preventDefault(),e.stopPropagation();const t=n.value.split("+").filter(l=>l!==""),a=["Ctrl","Shift","Alt"];t.every(l=>a.includes(l))&&(n.value=_)},y=e=>e&&e.charAt(0).toUpperCase()+e.slice(1),f=e=>{window.myApi.updateShortcut(e).then(t=>{t.code===0?(d.success(t.msg),_=t.data.cmd.replace(/CommandOrControl/ig,"Ctrl")):(d.error(t.msg),n.value=_)})},O=e=>{const t=n.value.replace(/Ctrl/ig,"CommandOrControl");let a=Object.assign(S(p.element),{cmd:t,isOpen:e,flag:!0});f(a)};return(e,t)=>{const a=F,l=U,w=P;return i(),m("div",G,[o("div",H,[s.element.isGlobal?(i(),m("span",L,"🌐")):k("",!0),c(A(s.element.tag),1)]),o("div",null,[r(l,null,{default:u(()=>[r(a,{style:{width:"90%"},size:"small",readonly:"",value:K(n),"onUpdate:value":t[0]||(t[0]=C=>I(n)?n.value=C:null),onKeydown:h,onKeyup:g},null,8,["value"])]),_:1})]),o("div",T,[r(w,{size:"medium",value:s.element.isOpen,"onUpdate:value":[t[1]||(t[1]=C=>s.element.isOpen=C),O],style:{"font-size":"12px"}},{checked:u(()=>[c(" 开启 ")]),unchecked:u(()=>[c(" 禁用 ")]),_:1},8,["value"])])])}}},Q=b(J,[["__scopeId","data-v-af7f2553"]]),v=s=>(B("data-v-fb1b2fcf"),s=s(),M(),s),W={id:"content-main"},X=v(()=>o("br",null,null,-1)),Y=v(()=>o("br",null,null,-1)),Z=v(()=>o("br",null,null,-1)),tt={class:"box"},et=v(()=>o("div",{class:"title"},[o("div",{style:{width:"250px"}}," 功能描述 "),o("div",{style:{width:"200px"}}," 自定义快捷键 "),o("div",{class:"switch"}," 是否禁用 ")],-1)),nt={class:"box-card"},ot={__name:"ShortcutView",setup(s){const d=x([]);return j(async()=>{d.value=await window.myApi.getShortcuts()}),(p,_)=>{const n=q,h=R,g=Q,y=N("auto-height");return i(),m("div",W,[r(h,{"show-icon":!1,type:"info",style:{"margin-bottom":"1rem"}},{default:u(()=>[r(n,{style:{"margin-bottom":"0"}},{default:u(()=>[c("快捷键")]),_:1})]),_:1}),r(h,{"show-icon":!1},{default:u(()=>[c(" 1.🌐标记为全局快捷键，程序失去焦点后也能使用。"),X,c(" 2.在macOS系统：Ctrl === Command键，Alt === Option键；"),Y,c(" 3.自定义快捷键时，先获取焦点，然后在输入框中按其它快捷键；"),Z]),_:1}),o("div",tt,[et,V((i(),m("div",nt,[(i(!0),m($,null,D(K(d),f=>(i(),z(g,{element:f},null,8,["element"]))),256))])),[[y,{offset:20}]])])])}}},it=b(ot,[["__scopeId","data-v-fb1b2fcf"]]);export{it as default};
